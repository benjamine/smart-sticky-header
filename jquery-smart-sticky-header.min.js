!function(t){var e=0;t.isSmartStickyHeader=function(e){return!!t(e).data("SmartStickyHeader")},t.SmartStickyHeader=function(i,r){function n(){p=l.offset(),u=l.outerWidth(),f=l.outerHeight(),v=t('<div id="'+S+'" class="'+r.railClass+'"></div>').css({top:0,padding:0,left:p.left+"px",width:u+"px",height:f+"px",overflow:"hidden",position:"fixed"}),m=t('<div class="sticky-header-shadow"></div>').css({height:f+"px"}),y=t('<div class="sticky-header-replacement"></div>').css({height:f+"px"}),l.before(y),l.before(v),v.append(l),v.append(m)}function a(){y.remove(),v.replaceWith(l)}function o(){g=g||0;var e=t(window).scrollTop(),i=e-g;g=e;var r=v.scrollTop()+i;r=0>r?0:r,t(".sticky-header-offset").css(f>r?e>f?{height:f-r+"px"}:{height:e-r+"px"}:{height:0}),v.scrollTop(r)}function s(t){t=t||0,t>=0&&c()&&(o(),setTimeout(function(){s(t-1)},100))}function c(){return t("#"+S).length}function d(t,e){function i(o){o===a?(t.apply(n,r),a=0):setTimeout(function(){i(a)},e)}var r,n,a=0;return function(){a++,r=Array.prototype.slice.call(arguments),n=this,1===a&&i(0)}}r=r||{},r.railClass=r.railClass||"sticky-header-rail";var h=t(window),l=(t(window.document.body),t(i));l.data("SmartStickyHeader",!0);var u,f,p,v,y,m,S="ssh"+ ++e;n(),s(200),h.on("scroll",o),h.on("resize",d(function(){a(),n(),s(1)},500));var g},t.fn.smartStickyHeader=function(e){return this.each(function(){return t.SmartStickyHeader(this,e)})}}(jQuery);